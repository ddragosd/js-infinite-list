<!DOCTYPE html>
<html>

<head>
    <title>Manual Scroll Example with Tweeter</title>
    <script type="text/javascript" src="js/jquery-1.7.2.js"></script>
    <script type="text/javascript" src="js/infinite-list-1.0-SNAPSHOT.js"></script>
    <script type="text/javascript" src="js/mustache.js"></script>
    <script type="text/javascript" src="js/TwitterFeedLoader.js"></script>

    <link rel="stylesheet" href="css/window-scroll.css">
</head>

<body>

<h3>Example showing Infinite List with WindowScroll as loading policy</h3>

<div id="tweets">
    <p id="listLoader" class="loading">
        <img src="images/loading.gif" alt="loading_img" />
        <button>Click to load more tweets</button>
        <span><b>Limit reached. To get more tweets update <i style="font-family: Courier">TwitterFeedLoader.MAX_PAGE</i></b></span>
    </p>
</div>

<script id="tweetItem" type="text/template">
    <p>
        <img src="{{profile_image_url}}" alt="profile_image_url">
        {{text}}
    </p>
</script>

<script type="text/javascript">

    var dataProvider = new iList.LazyDataProvider({
        loadPolicy:     new iList.loadPolicy.ManualLoadPolicy($("#listLoader")),  // load when user clicks the loader
        loader:         new TwitterFeedLoader({
                                            query: "adobe",   // search query
                                            rpp: 10,          // results per page
                                            startPage: 1      // page to start with
                                        })
        })

    var list = new iList.InfiniteList( {
            // VIEW configuration
            container:              $("#tweets"),
            itemRendererTemplate:   $("#tweetItem").html(),
            // templating function. you can hook in other templating libs such as Underscore, or any other lib
            templateFunction:       Mustache.to_html,

            loaderSelector:         $("#listLoader"),

            // DOMAIN configuration
            dataProvider:           dataProvider  } )

    // start by loading the first page with tweets
    list.loadMore();

</script>


</body>

</html>